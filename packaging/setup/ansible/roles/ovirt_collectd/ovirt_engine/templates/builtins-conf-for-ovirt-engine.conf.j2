# The following are added to retrieve additional host info
LoadPlugin disk
#Disk plugin with defaults only

LoadPlugin cpu

<Plugin cpu>
        ReportByState true
        ReportByCpu true
        ValuesPercentage true
</Plugin>

LoadPlugin memory

<Plugin memory>
        ValuesAbsolute true
        ValuesPercentage true
</Plugin>

LoadPlugin load
#Load plugin with defaults only

LoadPlugin nfs
#NFS plugin no config values

LoadPlugin entropy
LoadPlugin swap

LoadPlugin df

<Plugin df>
       # ignore rootfs; else, the root file-system would appear twice, causing
       # one of the updates to fail and spam the log
        FSType rootfs
       # ignore the usual virtual / temporary file-systems
        FSType sysfs
        FSType proc
        FSType devtmpfs
        FSType devpts
        FSType tmpfs
        FSType fusectl
        FSType cgroup
        IgnoreSelected true
        ValuesAbsolute true
        ValuesPercentage true
</Plugin>

LoadPlugin interface

LoadPlugin aggregation

<Plugin aggregation>
   <Aggregation>
     Plugin "cpu"
     Type "percent"

     GroupBy "Host"
     GroupBy "TypeInstance"

     CalculateSum true
     CalculateAverage true
   </Aggregation>
</Plugin>

LoadPlugin processes

<Plugin processes>
     Process "fluentd"
     Process "collectd"
     Process "qemu"
     Process "vdsmd"
</Plugin>

LoadPlugin postgresql

<Plugin postgresql>
  <Query custom_deadlocks>
      Statement "SELECT deadlocks as num_deadlocks \
          FROM pg_stat_database \
          WHERE datname = $1;"

      Param database

      <Result>
          Type "pg_xact"
          InstancePrefix "num_deadlocks"
          ValuesFrom "num_deadlocks"
      </Result>
  </Query>

  <Database {{pg_db_name}}>
    Host {{pg_host}}
    User {{pg_user}}
    Password {{pg_password}}
    Query custom_deadlocks
#    Query backends
#    Query transactions
#    Query queries
#    Query queries_by_table
#    Query query_plans
    Query table_states
#    Query query_plans_by_table
#    Query table_states_by_table
    Query disk_io
#    Query disk_io_by_table
    Query disk_usage
  </Database>
</Plugin>

LoadPlugin apache

<Plugin apache>
   <Instance {{apache_instance}}>
       URL {{apache_url}}
       User {{apache_user}}
       Password {{apache_password}}
   </Instance>
</Plugin>
